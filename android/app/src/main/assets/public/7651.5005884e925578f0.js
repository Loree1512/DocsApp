"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7651],{7651:(S,m,i)=>{i.r(m),i.d(m,{AuthPageModule:()=>x});var p=i(177),a=i(4341),g=i(4742),d=i(4964),f=i(467),n=i(4438),h=i(4282),v=i(2518),P=i(3683);function b(t,s){1&t&&(n.j41(0,"div"),n.EFF(1,"El email es requerido"),n.k0s())}function M(t,s){1&t&&(n.j41(0,"div"),n.EFF(1,"Ingrese un correo v\xe1lido"),n.k0s())}function C(t,s){if(1&t&&(n.j41(0,"div",10),n.DNE(1,b,2,0,"div",11)(2,M,2,0,"div",11),n.k0s()),2&t){const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==r.form.controls.email.errors?null:r.form.controls.email.errors.required),n.R7$(),n.Y8G("ngIf",null==r.form.controls.email.errors?null:r.form.controls.email.errors.email)}}function O(t,s){1&t&&(n.j41(0,"div"),n.EFF(1,"La contrase\xf1a es requerida"),n.k0s())}function y(t,s){if(1&t&&(n.j41(0,"div",10),n.DNE(1,O,2,0,"div",11),n.k0s()),2&t){const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==r.form.controls.password.errors?null:r.form.controls.password.errors.required)}}const F=[{path:"",component:(()=>{var t;class s{constructor(){this.form=new a.gE({email:new a.MJ("",[a.k0.required,a.k0.email]),password:new a.MJ("",[a.k0.required])}),this.firebaseSvc=(0,n.WQX)(h.f),this.utilsSvc=(0,n.WQX)(v.T)}ngOnInit(){}submit(){var o=this;return(0,f.A)(function*(){if(o.form.valid){const e=yield o.utilsSvc.loading();yield e.present();try{const l=(yield o.firebaseSvc.signIn(o.form.value)).user;if(l){const u={uid:l.uid,name:l.displayName||"Usuario",email:l.email};o.utilsSvc.saveInLocalStorage("user",u),o.utilsSvc.presentToast({message:`Bienvenido, ${u.name}!`,duration:2e3,position:"middle",color:"success",icon:"checkmark-circle-outline"}),o.getUserInfo(u.uid),o.utilsSvc.routerLink("/main/home")}}catch(c){console.error(c),o.utilsSvc.presentToast({message:c.message,duration:2e3,position:"middle",color:"danger",icon:"alert-circle-outline"})}finally{e.dismiss()}}})()}getUserInfo(o){var e=this;return(0,f.A)(function*(){const c=yield e.utilsSvc.loading();yield c.present();try{const l=`users/${o}`,u=yield e.firebaseSvc.getDocument(l);u&&(e.utilsSvc.saveInLocalStorage("user",u),e.utilsSvc.presentToast({message:`Te damos la bienvenida ${u.name}`,duration:2e3,position:"middle",color:"success",icon:"person-circle-outline"}),e.form.reset())}catch(l){console.error("Error al obtener informaci\xf3n del usuario:",l),e.utilsSvc.presentToast({message:l.message,duration:2e3,position:"middle",color:"danger",icon:"alert-circle-outline"})}finally{c.dismiss()}})()}}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["app-auth"]],decls:19,vars:6,consts:[[1,"login-section","ion-padding"],[1,"heading","ion-padding"],[1,"auth-form",3,"ngSubmit","keypress.enter","formGroup"],["icon","mail-outline","autocomplete","email","type","email","label","Email",3,"control"],["class","validators",4,"ngIf"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a",3,"control"],[1,"action-buttons","ion-padding"],["size","large","type","submit",1,"login-button",3,"disabled"],["routerLink","forgot-password",1,"forgot-password-link"],["size","large","fill","outline","routerLink","sign-up",1,"signup-button"],[1,"validators"],[4,"ngIf"]],template:function(o,e){1&o&&(n.j41(0,"ion-content")(1,"div",0)(2,"div",1)(3,"h1"),n.EFF(4,"DocuGest"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Inicie sesi\xf3n para continuar"),n.k0s()(),n.j41(7,"form",2),n.bIt("ngSubmit",function(){return e.submit()})("keypress.enter",function(){return e.submit()}),n.nrm(8,"app-custom-input",3),n.DNE(9,C,3,2,"div",4),n.nrm(10,"app-custom-input",5),n.DNE(11,y,2,1,"div",4),n.j41(12,"div",6)(13,"ion-button",7),n.EFF(14,"Iniciar Sesi\xf3n"),n.k0s(),n.j41(15,"p",8),n.EFF(16," \xbfOlvidaste la contrase\xf1a?"),n.k0s(),n.j41(17,"ion-button",9),n.EFF(18,"Registro"),n.k0s()()()()()),2&o&&(n.R7$(7),n.Y8G("formGroup",e.form),n.R7$(),n.Y8G("control",e.form.controls.email),n.R7$(),n.Y8G("ngIf",e.form.controls.email.errors&&e.form.controls.email.touched),n.R7$(),n.Y8G("control",e.form.controls.password),n.R7$(),n.Y8G("ngIf",e.form.controls.password.errors&&e.form.controls.password.touched),n.R7$(2),n.Y8G("disabled",e.form.invalid))},dependencies:[p.bT,a.qT,a.cb,g.Jm,g.W9,g.N7,d.Wk,P.H,a.j4],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: linear-gradient(180deg,rgba(0,0,0,.7),rgba(0,0,0,.1)), url(/assets/background-login.png) no-repeat center center / cover;display:flex;flex-direction:column;justify-content:center;height:100%}.login-section[_ngcontent-%COMP%]{height:80dvh;width:100%;max-width:500px;background:#fff;right:0;left:0;bottom:0;position:fixed;margin:auto;border-top-left-radius:46px;border-top-right-radius:46px}.login-section[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.login-section[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:bolder;color:#375a13}.login-section[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:1rem;color:#7b7b7b}.login-section[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{position:relative;margin-bottom:15px}.login-section[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){padding-left:0}.login-section[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:relative;top:36px;z-index:2;font-size:1.2rem;left:5px}.login-section[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{position:absolute;margin-left:35px;font-weight:bolder;font-size:.8rem;top:3px}.login-section[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:.9rem;--padding-start: 36px;--padding-bottom: 0px;color:#7b7b7b}.login-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{text-align:center}.login-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{--background: #afc8b2;width:100%;font-weight:700}.login-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;font-size:1rem;color:#7b7b7b}.login-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .signup-button[_ngcontent-%COMP%]{border:2px solid #afc8b2;background:transparent;--color: #afc8b2;font-weight:700;margin-top:30px;width:100%;--border-color: #afc8b2;--background: transparent;--background-activated: transparent;--background-focused: transparent;--background-hover: transparent}.forgot-password-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:underline;cursor:pointer;display:block;margin-top:10px}']}),s})()},{path:"sign-up",loadChildren:()=>i.e(920).then(i.bind(i,920)).then(t=>t.SignUpPageModule)},{path:"forgot-password",loadChildren:()=>i.e(7005).then(i.bind(i,7005)).then(t=>t.ForgotPasswordPageModule)}];let A=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[d.iI.forChild(F),d.iI]}),s})();var k=i(3887);let x=(()=>{var t;class s{}return(t=s).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[p.MD,a.YN,g.bv,A,k.G]}),s})()}}]);